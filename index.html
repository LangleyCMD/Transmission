<!DOCTYPE html>
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->
<!--NOTHING TO FIND HERE! GO BACK!-->

<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LANGLEY CALLING</title>
  <style>
    .pattern-grid {
  display:grid;
  grid-template-columns:repeat(3,70px);
  gap:8px;
  margin-top:10px;
}

.p-cell {
  width:70px;
  height:70px;
  border:2px solid #00ff66;
  cursor:pointer;
}

.p-cell.active { background:#00ff66; }
.p-cell.error { background:#330000; }

    body {
      background-color: #000;
      color: #00ff66;
      font-family: 'Courier New', Courier, monospace;
      padding: 2rem;
      font-size: 1.2rem;
      line-height: 1.5;
      overflow-x: hidden;
    }

    .glitch {
      position: relative;
      display: inline-block;
      animation: flicker 2s infinite;
    }

    .glitch::before,
    .glitch::after {
      content: attr(data-text);
      position: absolute;
      left: 0;
      width: 100%;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
    }

    .glitch::before {
      top: -1px;
      color: #ff00c8;
      animation: glitchTop 1s infinite linear alternate-reverse;
    }

    .glitch::after {
      top: 1px;
      color: #00ffff;
      animation: glitchBottom 1.5s infinite linear alternate-reverse;
    }

    @keyframes glitchTop {
      0% { clip: rect(0, 9999px, 0, 0); }
      10% { clip: rect(0, 9999px, 5px, 0); }
      30% { clip: rect(2px, 9999px, 8px, 0); }
      50% { clip: rect(1px, 9999px, 6px, 0); }
      70% { clip: rect(3px, 9999px, 9px, 0); }
      100% { clip: rect(0, 9999px, 0, 0); }
    }

    @keyframes glitchBottom {
      0% { clip: rect(0, 9999px, 0, 0); }
      20% { clip: rect(2px, 9999px, 8px, 0); }
      40% { clip: rect(0, 9999px, 4px, 0); }
      60% { clip: rect(1px, 9999px, 7px, 0); }
      80% { clip: rect(3px, 9999px, 9px, 0); }
      100% { clip: rect(0, 9999px, 0, 0); }
    }

    @keyframes flicker {
      0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
        opacity: 1;
      }
      20%, 22%, 24%, 55% {
        opacity: 0.2;
      }
    }

    .typewriter {
      white-space: pre-wrap;
      overflow: hidden;
      border-right: 0.1em solid #00ff66;
      animation: caret 0.75s step-end infinite;
    }

    @keyframes caret {
      from, to { border-color: transparent; }
      50% { border-color: #00ff66; }
    }

    #input-line {
      display: none;
      margin-top: 1rem;
      font-family: 'Courier New', Courier, monospace;
      font-size: 1.2rem;
      color: #00ff66;
    }
    #prompt {
      display: inline;
      user-select: none;
    }
    #commandInput {
      background: black;
      color: #00ff66;
      border: none;
      outline: none;
      font-family: 'Courier New', Courier, monospace;
      font-size: 1.2rem;
      width: calc(100% - 10ch);
      display: inline;
    }
  </style>
</head>
<body>
  <div class="glitch" data-text="> SYSTEM: ONLINE...">
    &gt; SYSTEM: ONLINE...
  </div>
  <br/><br/>
  <pre id="output" class="typewriter"></pre>
  <div id="input-line">
    <span id="prompt"></span><input type="text" id="commandInput" autocomplete="off" autofocus />
  </div>
  
  <div id="patternLock" style="display:none; margin-top:20px;">
  <div>>> BLOKADA WZORCEM — kliknij poprawną sekwencję</div>
  <div class="pattern-grid">
    <div class="p-cell" data-id="0"></div>
    <div class="p-cell" data-id="1"></div>
    <div class="p-cell" data-id="2"></div>
    <div class="p-cell" data-id="3"></div>
    <div class="p-cell" data-id="4"></div>
    <div class="p-cell" data-id="5"></div>
    <div class="p-cell" data-id="6"></div>
    <div class="p-cell" data-id="7"></div>
    <div class="p-cell" data-id="8"></div>
  </div>
</div>


<script>
  const PASSWORD = 'X7f9P2z';

  const fileSystem = {
    '/': {
      type: 'dir',
      contents: {
        'secure': { type: 'dir', contents: {
          'confidential.txt': { type: 'file', content: `Dotarłeś do końca transmisji

Tu Langley,

Otrzymaliśmy twoją notatkę i razem z naszymi kolegami z Kiejkut uważamy, że warto pochylić się nad tą sprawą.

Wyślemy łącznika, który zabierze cię na miejsce spotkania gdzie omówimy szczegóły.

Czekaj na niego pod tymi współrzędnymi:

50.83650190007226, 19.068069800005595

02/15/2026 19:30

Będziemy w kontakcie
`}

        }},
        'logs': {
          type: 'dir',
          contents: {
            'events.log': { type: 'file', content:
`[2026-02-08 08:59:12] Użytkownik 'gosc001' NIEUDANE LOGOWANIE z adresu IP 203.0.113.45
[2026-02-08 09:01:05] Użytkownik 'gosc023' NIEUDANE LOGOWANIE z adresu IP 198.51.100.22
[2026-02-08 09:03:34] Użytkownik 'gosc045' NIEUDANE LOGOWANIE z adresu IP 192.0.2.13
[2026-02-08 09:07:21] Użytkownik 'gosc025' NIEUDANE LOGOWANIE z adresu IP 203.0.113.99
[2026-02-08 09:12:45] Użytkownik 'OPERATOR_3' LOGOWANIE UDANE z adresu IP 192.168.1.55
[2026-02-08 09:15:10] Użytkownik 'gosc029' NIEUDANE LOGOWANIE z adresu IP 10.2.3.14
[2026-02-08 09:17:52] Użytkownik 'gosc026' NIEUDANE LOGOWANIE z adresu IP 172.16.0.21
[2026-02-08 09:19:30] Podano hasło: ********
[2026-02-08 09:20:00] Skanowanie systemu zakończone
[2026-02-08 09:22:14] Użytkownik 'gosc012' NIEUDANE LOGOWANIE z adresu IP 198.51.100.34
[2026-02-08 09:25:37] Użytkownik 'gosc085' NIEUDANE LOGOWANIE z adresu IP 203.0.113.67
`
            },
            'keylogger': {
              type: 'dir',
              contents: {
                'keys.txt': { type: 'file', content:
`[09:00:01] gosc023: help
[09:00:04] gosc023: dir
[09:00:07] gosc023: cd logs
[09:00:11] gosc023: dir
[09:00:15] gosc023: type events.log
[09:00:20] gosc023: cd keylogger
[09:00:25] gosc023: type keys.txt
[09:00:40] gosc023: cd ..
[09:00:43] gosc023: cd ..
[09:00:50] gosc029: help
[09:00:54] gosc029: dir
[09:00:58] gosc029: cd secure
[09:01:00] gosc029: sifuhissfGCG1245
[09:01:02] gosc029: cd secure
[09:01:05] gosc029: haslo
[09:01:07] gosc031: dir
[09:01:10] gosc031: cd secure
[09:01:12] gosc031: password123
[09:01:14] gosc031: cd secure
[09:01:15] gosc031: password
[09:01:16] gosc031: 123123321
[09:03:00] operator_3302: login
[09:03:05] OPERATOR_3: help
[09:03:10] OPERATOR_3: dir
[09:03:15] OPERATOR_3: cd logs
[09:03:20] OPERATOR_3: dir
[09:03:25] OPERATOR_3: cd keylogger
[09:03:30] OPERATOR_3: type keys.txt
[09:03:40] OPERATOR_3: cd ..
[09:03:45] OPERATOR_3: cd ..
[09:03:50] OPERATOR_3: cd secure
[09:03:52] OPERATOR_3: X7f9P2z
[09:03:55] OPERATOR_3: type confidential.txt
[09:00:01] gosc077: help
[09:00:04] gosc077: dir
[09:00:07] gosc077: cd logs
[09:00:11] gosc077: dir
[09:00:15] gosc077: type events.log
[09:00:20] gosc077: cd keylogger
[09:00:25] gosc077: type keys.txt
[09:00:40] gosc077: cd ..
[09:00:43] gosc077: cd ..
[09:00:50] gosc077: help
[09:00:54] gosc077: dir
[09:00:58] gosc077: cd secure
[09:01:00] gosc077: sifuhissfGCG1245
[09:01:02] gosc077: cd secure
[09:01:05] gosc077: haslo
[09:01:18] gosc079: help
[09:01:22] gosc079: cd logs
[09:01:26] gosc079: dir
[09:01:30] gosc079: type events.log
[09:01:35] gosc079: cd keylogger
[09:01:40] gosc079: type keys.txt
[09:01:50] gosc079: dir
[09:01:55] gosc079: cd secure
[09:01:57] gosc079: tryme
[09:02:00] gosc079: cd secure
[09:02:02] gosc079: uigbnose945gb
[09:02:05] gosc079: help
[09:02:10] gosc079: cd logs
[09:02:15] gosc079: type events.log
[09:02:20] gosc079: cd keylogger
[09:02:25] gosc079: type keys.txt
[09:02:30] gosc000: help
[09:02:35] gosc000: dir
[09:02:40] gosc000: cd secure
[09:02:42] gosc000: guessme
[09:02:45] gosc000: cd secure
[09:02:42] gosc000: PaSsWoRd
[09:02:50] OPERATOR_08: cd secure
[09:02:56] OPERATOR_08: X7f9P2z
`
                }
              }
            }
          }
        }
      }
    }
  };

  let currentPath = '/';
  let secureUnlocked = false;
  let awaitingPassword = false;
  let typingConfidential = false;

  function getDirectory(path) {
    if(path === '/') return fileSystem['/'];
    const parts = path.split('/').filter(Boolean);
    let current = fileSystem['/'];
    for (const part of parts) {
      if (current.contents && current.contents[part] && current.contents[part].type === 'dir') {
        current = current.contents[part];
      } else {
        return null;
      }
    }
    return current;
  }

  function getFile(path) {
    const parts = path.split('/').filter(Boolean);
    let current = fileSystem['/'];
    for(let i = 0; i < parts.length; i++) {
      const part = parts[i];
      if(i === parts.length - 1) {
        // last part - file
        if(current.contents && current.contents[part] && current.contents[part].type === 'file') {
          return current.contents[part];
        } else {
          return null;
        }
      } else {
        if(current.contents && current.contents[part] && current.contents[part].type === 'dir') {
          current = current.contents[part];
        } else {
          return null;
        }
      }
    }
    return null;
  }

  function listDirectory(path) {
    const dir = getDirectory(path);
    if (!dir) return 'Lokalizacja nie znaleziona.';
    return Object.keys(dir.contents).map(name => {
      const item = dir.contents[name];
      return item.type === 'dir' ? name + '\\' : name;
    }).join('\n');
  }

  function normalizePath(path) {
    const parts = path.split('/').filter(Boolean);
    const stack = [];
    for (const part of parts) {
      if (part === '..') {
        if (stack.length > 0) stack.pop();
      } else if (part !== '.' && part !== '') {
        stack.push(part);
      }
    }
    return '/' + stack.join('/');
  }

  const output = document.getElementById('output');
  const inputLine = document.getElementById('input-line');
  const commandInput = document.getElementById('commandInput');
  const prompt = document.getElementById('prompt');
  let index = 0;

  const bootText = `SYSTEM LOG // OBSZAR: [[ TAJNE ]]
DOSTĘP: PRZYZNANO

Witaj Użytkowniku

Wykryto uszkodzenie dysku C://. Uruchamianie sekwencji odzyskiwania.
Skanowanie w poszukiwaniu uszkodzonych partycji.
|==============================================|
Wykryto uszkodzenie w Woluminie 3. Inicjowanie procedur izolacji
|==============================================|
Izolacja zakończona powodzeniem.

Oczekiwanie na dalsze polecenia.`;

  function typeNext() {
    if (index < bootText.length) {
      output.textContent += bootText.charAt(index);
      index++;
      setTimeout(typeNext, 40);
    } else {
      inputLine.style.display = 'block';
      updatePrompt();
      commandInput.focus();
    }
  }

  function updatePrompt() {
    prompt.textContent = currentPath + '> ';
  }

  function typeTextAnimated(text, callback) {
    let i = 0;
    typingConfidential = true;
    function nextChar() {
      if (i < text.length) {
        output.textContent += text.charAt(i);
        i++;
        setTimeout(nextChar, 10);
      } else {
        typingConfidential = false;
        if (callback) callback();
      }
    }
    nextChar();
  }

  window.addEventListener('load', typeNext);

  commandInput.addEventListener('keydown', function(e) {
    if (e.key === 'Enter') {
      if(typingConfidential) return; // ignore input while typing animated text

      let input = commandInput.value.trim();
      if (!input) return;

      let response = '';

      if (awaitingPassword) {
        if (input === PASSWORD) {
          secureUnlocked = true;
          response = 'Przyznano dostęp. Możesz teraz przejść do /secure.';
        } else {
          response = 'Odmowa dostępu. Błędne hasło';
        }
        awaitingPassword = false;
        output.textContent += `\n${currentPath}> ********\n${response}`;
        commandInput.value = '';
        updatePrompt();
        window.scrollTo(0, document.body.scrollHeight);
        return;
      }

      const args = input.split(' ').filter(Boolean);
      const cmd = args[0].toLowerCase();

      if (cmd === 'help') {
        response = `Dostępne polecenia:
 - help
 - clear
 - dir - wyświetla foldery/pliki
 - cd [dir] - przejście do wybranego foldery
 - type [filename]- otwiera dany plik .txt
 - cd .. - wraca do wyższego folderu`;
      } else if (cmd === 'clear') {
        output.textContent = '';
        commandInput.value = '';
        return;
      } else if (cmd === 'dir') {
        if (currentPath === '/' && !secureUnlocked) {
          response = ['logs\\', 'secure\\'].join('\n');
        } else {
          response = listDirectory(currentPath);
        }
      } else if (cmd === 'cd') {
        if (args.length < 2) {
          response = 'Specify directory to change to.';
        } else {
          let target = args[1];
          let newPath;

          if (target === '..') {
            newPath = normalizePath(currentPath + '/..');
          } else if (target.startsWith('/')) {
            newPath = normalizePath(target);
          } else {
            newPath = normalizePath(currentPath + '/' + target);
          }

          if (newPath === '/secure' && !secureUnlocked) {
            // ===== KEYLOGGER LOCK =====

if(newPath.endsWith('/keylogger')){
  patternWaiting = true;
  pendingKeyloggerPath = newPath;

  patternUI.style.display="block";

  output.textContent += `
${currentPath}> ${input}
>>> BLOKADA WZORCEM — użyj panelu kliknięć`;

  commandInput.value='';
  updatePrompt();
  window.scrollTo(0,document.body.scrollHeight);
  return;
}

            awaitingPassword = true;
            output.textContent += `\n${currentPath}> ${input}\nPodaj hasło:`;
            commandInput.value = '';
            updatePrompt();
            window.scrollTo(0, document.body.scrollHeight);
            return;
          }

          const dirExists = getDirectory(newPath);
          if (dirExists) {
            currentPath = newPath;
          } else {
            response = `Lokalizacja nie znaleziona: ${target}`;
          }
        }
      } else if (cmd === 'type') {
        if (args.length < 2) {
          response = 'Podaj nazwę pliku do wyświetlenia.';
        } else {
          let fileName = args[1];
          let filePath;
          if (fileName.startsWith('/')) {
            filePath = normalizePath(fileName);
          } else {
            filePath = normalizePath(currentPath + '/' + fileName);
          }
          const file = getFile(filePath);
          if (file) {
            if(filePath === '/secure/confidential.txt') {
              // animated typing
              output.textContent += `\n${currentPath}> ${input}\n`;
              commandInput.value = '';
              updatePrompt();
              window.scrollTo(0, document.body.scrollHeight);
              typeTextAnimated(file.content);
              return;
            } else {
              response = file.content;
            }
          } else {
            response = `Nie znaleziono pliku: ${fileName}`;
          }
        }
      } else {
        response = `Nieznane polecenie: '${input}'
Wpisz 'help' by wyświetlić dostępne polecenia.`;
      }

      output.textContent += `\n${currentPath}> ${input}`;
      if (response) output.textContent += `\n${response}`;
      commandInput.value = '';
      updatePrompt();
      window.scrollTo(0, document.body.scrollHeight);
    }
  });
  /* ===== PATTERN LOCK ===== */

const patternCorrect = [0,4,8];
let patternInput = [];
let patternWaiting = false;
let pendingKeyloggerPath = null;

const patternUI = document.getElementById("patternLock");

document.querySelectorAll(".p-cell").forEach(cell=>{
  cell.addEventListener("click",()=>{
    if(!patternWaiting) return;

    const id = parseInt(cell.dataset.id);
    cell.classList.add("active");
    patternInput.push(id);

    checkPattern();
  });
});

function checkPattern(){
  let step = patternInput.length-1;

  if(patternInput[step] !== patternCorrect[step]){
    patternError();
    return;
  }

  if(patternInput.length === patternCorrect.length){
    unlockPattern();
  }
}

function patternError(){
  document.querySelectorAll(".p-cell").forEach(c=>c.classList.add("error"));

  setTimeout(resetPattern,700);
}

function unlockPattern(){
  patternWaiting = false;
  patternUI.style.display="none";

  currentPath = pendingKeyloggerPath;
  pendingKeyloggerPath = null;

  output.textContent += "\n>>> BLOKADA ZDJĘTA — DOSTĘP PRZYZNANY";
  updatePrompt();
  window.scrollTo(0,document.body.scrollHeight);

  resetPattern();
}

function resetPattern(){
  patternInput=[];
  document.querySelectorAll(".p-cell")
    .forEach(c=>c.classList.remove("active","error"));
}

</script>
</body>
</html>
